app-id: finance.reckoner.app
runtime: org.gnome.Platform
runtime-version: "44"
sdk: org.gnome.Sdk
command: reckoner
separate-locales: false
finish-args:
  [
    --socket=x11,
    --socket=wayland,
    --share=network,
    --filesystem=home,
    --share=ipc,
    --device=dri,
  ]
modules:
  - name: reckoner
    buildsystem: simple
    build-commands:
      - mkdir -p /app/bin /app/reckoner /app/share/applications /app/share/icons/hicolor/192x192/apps
      - cp finance.reckoner.app.png /app/share/icons/hicolor/192x192/apps/
      - cp finance.reckoner.app.desktop /app/share/applications/
      - cp -R bundle/* /app/reckoner/
      - ln -s /app/reckoner/reckoner /app/bin/reckoner
    sources:
      - type: archive
        only-arches: [x86_64]
        dest: bundle
        url: https://codeberg.org/Reckoner/app/releases/download/v1.0.2/reckoner-1.0.2-x86_64-linux.tar.gz
        sha256: 0ac1c115ad708c56f8f7815f214a09c201a08a783686100c706e40898dd62c6b
      - type: file
        path: finance.reckoner.app.png
      - type: file
        path: finance.reckoner.app.desktop
